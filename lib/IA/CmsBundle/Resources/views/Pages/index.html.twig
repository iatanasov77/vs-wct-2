{% extends "layout.html.twig" %}
{% block title %}{{ parent() }} :: List Pages{% endblock %}

{% block pageTitle %}<i class="icon_genius"></i> List Pages{% endblock %}

{% block content %}
    <div class="row">   
        <div class="col-lg-12">
            <section class="panel">
                <table class="table table-striped table-advance table-hover">
                    <tr>
                        <th width="50">N</th>
                        <th>Slug</th>
                        <th>Title</th>
                        <th width="150">Action</th>
                    </tr>
                    {% for item in pages %}
                        <tr>
                            <td>
                                <input type="checkbox" name="active[{{ item.id }}]" />
                                {{ item.id }}
                            </td>
                            <td>
                                <a href="{{ path('ia_cms_pages_update', {'id': item.id}) }}">
                                    {{ item.slug }}
                                </a>
                            </td>
                            <td>
                                <a href="{{ path('ia_cms_pages_update', {'id': item.id}) }}">
                                    {{ item.title }}
                                </a>
                            </td>

                            <td>
                                <div class="btn-group">
                                    <div class="btn-group">
                                        <a class="btn btn-primary" href="{{ path('ia_cms_pages_update', {'id': item.id}) }}">
                                            <i class="glyphicon glyphicon-pencil"></i>
                                        </a>
                                        <a class="btn btn-danger btnDelete" href="{{ path('ia_cms_pages_delete', {'id': item.id}) }}">
                                            <i class="icon_close_alt2"></i>
                                        </a>
                                    </div>
                                </div>
                            </td>
                        </tr>
                    {% endfor %}
                </table>
            </section>
        </div>
    </div>
{% endblock %}

{% block endDocumentScripts %}
    {{ parent() }}
    <script type="text/javascript">
        jQuery("#btnDelete").on("click", function (e) {
            var link = this;
            e.preventDefault();

            jQuery("<div>Do you want to delete this Item?</div>").dialog({
                buttons: {
                    "Ok": function () {
                        window.location = link.href;
                    },
                    "Cancel": function () {
                        jQuery(this).dialog("close");
                    }
                }
            });
        });
    </script>
{% endblock %}
