ia_users_profile_show:
    path:     /profile
    defaults: { _controller: IAUsersBundle:Profile:show }

ia_users_users_crud:
    resource: |
        alias: ia_users.users
        path: /users
        templates: "IAUsersBundle:UsersCrud"
    type: sylius.resource

fos_user_profile:
    resource: "@FOSUserBundle/Resources/config/routing/profile.xml"
    prefix: /profile

fos_user_register:
    resource: "@FOSUserBundle/Resources/config/routing/registration.xml"
    prefix: /register

fos_user_resetting:
    resource: "@FOSUserBundle/Resources/config/routing/resetting.xml"
    prefix: /resetting

fos_user_change_password:
    resource: "@FOSUserBundle/Resources/config/routing/change_password.xml"
    prefix: /change-password


ia_users_api_index:
    path:     /api/users
    defaults: { _controller: IAUsersBundle:Api:index }
    
ia_users_api_detail:
    path:     /api/users/detail/{id}
    defaults: { _controller: IAUsersBundle:Api:detail}

ia_users_api_delete:
    path:     /api/users/delete/{id}
    defaults: { _controller: IAUsersBundle:Api:delete }

ia_users_api_save:
    path:     /api/users/save
    defaults: { _controller: IAUsersBundle:Api:save }
    requirements:
        _method:  POST


# Subscription Controller
ia_paid_membership_subscription_subscribe:
    path:     /subscribe/{planId}
    defaults: { _controller: IAUsersBundle:Subscription:subscribe }
ia_paid_membership_subscription_create:
    path:     /create_subscription/{paymentId}
    defaults: { _controller: IAUsersBundle:Subscription:create }
    
# Payment Controller
########################
# Get Main Form Action
ia_paid_membership_checkout_select_method:
    path:     /checkout_plan/{planId}/select_method
    defaults: { _controller: IAUsersBundle:Checkout:selectMethod }
    
# Resource Controllers
ia_paid_membership_packages:
    resource: |
        alias: ia_users.packages
        except: ['show']
        path: /packages
        templates: "IAUsersBundle:Packages"
    type: sylius.resource   
    
ia_paid_membership_packages_update:
    path: /packages/{id}/edit
    methods: [GET, POST]
    defaults:
        _controller: ia_users.controller.packages:updateAction
        _sylius:
            template: IAUsersBundle:Packages:update.html.twig
    
ia_paid_membership_plans:
    resource: |
        alias: ia_users.plans
        except: ['show']
        path: /plans
        templates: "IAUsersBundle:Plans"
    type: sylius.resource
    
ia_paid_membership_plans_update:
    path: /plans/{id}/edit
    methods: [GET, POST]
    defaults:
        _controller: ia_users.controller.plans:updateAction
        _sylius:
            template: IAUsersBundle:Plans:update.html.twig

ia_paid_membership_packageplans:
    resource: |
        alias: ia_users.packageplans
        except: ['show']
        path: /packageplans
        templates: "IAUsersBundle:PackagePlans"
    type: sylius.resource   
