# This file is the entry point to configure your own services.
# Files in the packages/ subdirectory configure your dependencies.

# Put parameters here that don't need to change on each machine where the app is deployed
# https://symfony.com/doc/current/best_practices/configuration.html#application-related-configuration
parameters:
    locale: 'bg'
    siteTitle: 'VS WebContentThief'
    mailer_user: 'wct@example.com'
    wct_template: 'new-template'

    # Map Processors Register
    ia_web_content_thief.map_processors:
        'ia_web_content_thief.processor.prestashop15': 'PrestaShop 1.5'
        
    menu.config_file: "%kernel.root_dir%/../config/packages/ia_cms.yaml"

services:
   

    # default configuration for services in *this* file
    _defaults:
        autowire: true      # Automatically injects dependencies in your services.
        autoconfigure: true # Automatically registers your services as commands, event subscribers, etc.

    twig.extension.date:
        class: Twig_Extensions_Extension_Date
        tags:
            - { name: twig.extension }
    
    # makes classes in src/ available to be used as services
    # this creates a service per class whose id is the fully-qualified class name
    App\:
        resource: '../src/*'
        exclude: '../src/{DependencyInjection,Entity,Migrations,Tests,Kernel.php}'
        autowire: false
        
    # controllers are imported separately to make sure services can be injected
    # as action arguments even if you don't extend any base controller class
    App\Controller\:
        resource: '../src/Controller'
        tags: ['controller.service_arguments']
        autowire: false
              
    # Sylius Resource Form Services
    ia_web_content_thief.form.type.fieldsets:
        class: App\Form\FieldsetType
        tags:
            - { name: form.type, alias: 'ia_web_content_thief_fieldsets' }
        #arguments: [@doctrine]
    ia_web_content_thief.form.type.projects:
        class: App\Form\ProjectType
        tags:
            - { name: form.type, alias: 'ia_web_content_thief_projects' }
        #arguments: [@doctrine]
        calls:
          #- [ setContainer,[ @service_container ] ]
          
        
#    ia_web_content_thief.form.type.mappers:
#        class: IAWebContentThiefBundle\Form\MapperType
#        calls:
#          - [ setContainer,[ @service_container ] ]
#        tags:
#            - { name: form.type, alias: 'ia_web_content_thief_mappers' }
#        arguments: [@doctrine]
          
    
    # Map Processor Forms
    ia_web_content_thief.processor_form.prestashop15:
        class: App\Component\MapProcessor\Form\Prestashop15Type
    
    # Map Processors Services
    ia_web_content_thief.processor.prestashop15:
        class: App\Component\MapProcessor\Processor\Prestashop15
        #arguments: [ @service_container ]
        calls:
            #- [setForm, [ @ia_web_content_thief.processor_form.prestashop15 ]]
            
    ia_payment_builder:
        public: true
        autowire: true
        class: IA\PaymentBundle\Component\Payment\PaymentBuilder
        arguments: ["@payum"]
        #arguments: ["@doctrine.orm.entity_manager"]

        
